### ALSA-LIB

$ curl -L ftp://ftp.alsa-project.org/pub/lib/alsa-lib-1.1.5.tar.bz2 -o alsa-lib-1.1.5.tar.bz2
$ tar xvjf alsa-lib-1.1.5.tar.bz2
$ cd alsa-lib-1.1.5
$ #export CFLAGS="-march=native -O2" ; export CXXFLAGS="-march=native -O2" ; export CPPFLAGS="-march=native -O2"
$ export CFLAGS="-O2" ; export CXXFLAGS="-O2" ; export CPPFLAGS="-O2"
$ ./configure --help

## Normal
$ ./configure --disable-aload --disable-ucm --disable-topology --disable-alisp --disable-old-symbols --disable-python --with-pcm-plugins=hw --with-ctl-plugins=hw #--disable-thread-safety

## Minimal with mixer
$ ./configure --disable-aload --disable-rawmidi --disable-hwdep --disable-seq --disable-ucm --disable-topology --disable-alisp --disable-old-symbols --disable-python --with-pcm-plugins=hw --with-ctl-plugins=hw #--disable-thread-safety

## Minimal
$ ./configure --disable-aload --disable-mixer --disable-rawmidi --disable-hwdep --disable-seq --disable-ucm --disable-topology --disable-alisp --disable-old-symbols --disable-python --with-pcm-plugins=hw #--disable-thread-safety

$ sudo make install

$ sudo chmod -x /usr/lib/libasound.so.2.0.0
$ sudo mv /usr/lib/arm-linux-gnueabihf/libasound.so.2.0.0 /usr/lib/arm-linux-gnueabihf/libasound.so.2.0.0.orig
$ sudo cp /usr/lib/libasound.so.2.0.0 /usr/lib/arm-linux-gnueabihf/libasound.so.2.0.0.min
$ sudo cp /usr/lib/arm-linux-gnueabihf/libasound.so.2.0.0.min /dev/shm/libasound.so.2.0.0

### ALSA.CONF

$ dpkg-query -l 'libasound*'
$ sudo apt-get remove '^libasound2-plugin.*'
$ ls /usr/lib/*/alsa-lib/
$ sudo rm -rf /usr/lib/*/alsa-lib/
$ #sudo find /usr/lib/*/alsa-lib/ -name '*.so' -exec rename -v -f 's/.so$/.so.sav/' '{}' \;

$ [ -d /usr/share/alsa.org ] && sudo rm -rf /usr/share/alsa.orig
$ sudo mv /usr/share/alsa /usr/share/alsa.orig
$ sudo systemctl mask alsa-store.service
$ sudo systemctl mask alsa-restore.service
$ sudo nano /lib/modprobe.d/aliases.conf
	#options snd-usb-audio index=-2
$ sudo mkdir /usr/share/alsa
$ cp /usr/share/alsa.orig/alsa.conf /usr/share/alsa/alsa.conf.orig
$ sudo sh -c "printf 'pcm.0.card 0 pcm.0.device 0 pcm.0.subdevice 0 pcm.0.type hw defaults.pcm.minperiodtime 2772;   ' > /usr/share/alsa/alsa.conf.min"
$ sudo cp /usr/share/alsa/alsa.conf.min /dev/shm/alsa.conf
$ sudo ln -sf /dev/shm/alsa.conf /usr/share/alsa/alsa.conf

$ sudo find /usr/lib/*/alsa-lib/ -name '*.sav' -exec rename -v -f 's/.sav$//' '{}' \;
$ sudo mv /usr/share/alsa      /usr/share/alsa.tweak
$ sudo mv /usr/share/alsa.orig /usr/share/alsa
